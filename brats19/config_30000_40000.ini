[brats_T1]
path_to_search = /home/rdorent/data/BRATS2018_crop_renamed/
filename_contains = T1
filename_not_contains = T1c
spatial_window_size = (112, 112, 112)
interp_order = 3
axcodes = (R, A, S)


[brats_T1c]
path_to_search = /home/rdorent/data/BRATS2018_crop_renamed/
filename_contains = T1c
filename_not_contains = 
spatial_window_size = (112, 112, 112)
interp_order = 3
axcodes = (R, A, S)


[brats_Flair]
path_to_search = /home/rdorent/data/BRATS2018_crop_renamed/
filename_contains = Flair
filename_not_contains = 
spatial_window_size = (112, 112, 112)
interp_order = 3
axcodes = (R, A, S)


[brats_T2]
path_to_search = /home/rdorent/data/BRATS2018_crop_renamed/
filename_contains = T2
filename_not_contains = 
spatial_window_size = (112, 112, 112)
interp_order = 3
axcodes = (R, A, S)



[label_b]
path_to_search = /home/rdorent/data/BRATS2018_crop_renamed/
filename_contains = Label
filename_not_contains =
spatial_window_size = (112, 112, 112)
interp_order = 0
axcodes = (R, A, S)


[SYSTEM]
cuda_devices = ""
num_threads = 2
num_gpus = 1
model_dir = /home/rdorent/niftynet/models/MICCAI/BRATS/mvae_1/

[NETWORK]
name = MICCAI.BRATS.mvae_1.net.VAE
batch_size = 1
activation_function = relu
volume_padding_size = 10

whitening = True
normalisation = True
normalise_foreground_only=True
foreground_type = mean_plus
histogram_ref_file = oasis.txt
cutoff = (0.001, 0.999)
window_sampling = uniform
queue_length = 30
reg_type = L2
decay = 1e-5

[TRAINING]
sample_per_volume = 32
lr = 1.5625e-05
loss_type = Jaccard
starting_iter = 30000
save_every_n = 5000
max_iter = 40000
max_checkpoints = 20
random_flipping_axes = 0,1,2
scaling_percentage =-10.0,10.0

exclude_fraction_for_validation = 0.1
exclude_fraction_for_inference = 0.2


[INFERENCE]
border = 10
inference_iter = 10000
save_seg_dir = ./output
output_interp_order = 0
spatial_window_size = (128, 128, 128)



[SEGMENTATION]
image = brats_T1, brats_T1c, brats_T2, brats_Flair
label = label_b
output_prob = False
num_classes = 4
label_normalisation = True



